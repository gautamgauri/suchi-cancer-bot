---
import BaseLayout from '../layouts/BaseLayout.astro';
import VideoCard from '../components/VideoCard.astro';
import videosData from '../content/videos.json';

const featuredVideos = videosData.videos.filter(v => v.featured).slice(0, 3);
const cancerTypes = videosData.cancerTypes;
const botUrl = "https://suchi-web-621946741407.asia-south1.run.app";
---

<BaseLayout title="Home">
  <!-- Hero -->
  <section class="hero">
    <div class="hero-content">
      <span class="hero-badge">Suchitra Cancer Care Foundation</span>
      <h1>A calmer way to find your next step</h1>
      <p class="hero-lead">
        Cancer doesn't arrive politely. SCCF helps patients and caregivers access
        reliable, oncologist-led information and clear next-step guidance —
        so your next conversation with a doctor is more informed and less frightening.
      </p>
      <div class="hero-actions">
        <a href="/watch" class="btn btn-primary btn-lg">
          Start with Onco Talks
        </a>
        <a href={botUrl} target="_blank" rel="noopener" class="btn btn-ghost btn-lg">
          Ask Suchi
        </a>
      </div>
    </div>
  </section>

  <!-- Journey Band -->
  <section class="journey-band">
    <div class="journey-inner">
      <p class="journey-label">Your journey with SCCF</p>
      <div class="journey-steps">
        <div class="journey-step">
          <span class="step-circle">1</span>
          <strong>Watch Onco Talks</strong>
          <span>Doctor-led videos on cancer topics</span>
        </div>
        <div class="journey-connector" aria-hidden="true"></div>
        <div class="journey-step">
          <span class="step-circle">2</span>
          <strong>Ask Suchi</strong>
          <span>Get answers in simple language</span>
        </div>
        <div class="journey-connector" aria-hidden="true"></div>
        <div class="journey-step">
          <span class="step-circle">3</span>
          <strong>Contact SCCF</strong>
          <span>Reach our team for guidance</span>
        </div>
      </div>
    </div>
  </section>

  <!-- What Brings You Here -->
  <section class="section section-soft">
    <div class="container">
      <header class="section-header">
        <h2>What brings you here?</h2>
        <p>Choose your path to find the right resources</p>
      </header>

      <div class="path-grid">
        <a href="/watch?situation=newly-diagnosed" class="path-card card card-clickable">
          <div class="path-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 16v-4M12 8h.01"/>
            </svg>
          </div>
          <div class="path-body">
            <span class="path-label">For Patients</span>
            <h3>Newly Diagnosed</h3>
            <ul>
              <li>Understand what comes next</li>
              <li>Questions to ask your doctor</li>
              <li>Calm, step-by-step guidance</li>
            </ul>
          </div>
          <span class="path-arrow" aria-hidden="true">→</span>
        </a>

        <a href="/watch?situation=treatment-choices" class="path-card card card-clickable">
          <div class="path-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
            </svg>
          </div>
          <div class="path-body">
            <span class="path-label">Treatment</span>
            <h3>Treatment Options</h3>
            <ul>
              <li>Surgery, chemo, radiation explained</li>
              <li>Newer therapies and trials</li>
              <li>Managing side effects</li>
            </ul>
          </div>
          <span class="path-arrow" aria-hidden="true">→</span>
        </a>

        <a href="/watch?situation=caregiving" class="path-card card card-clickable">
          <div class="path-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
            </svg>
          </div>
          <div class="path-body">
            <span class="path-label">For Caregivers</span>
            <h3>Caregiving</h3>
            <ul>
              <li>Supporting a loved one</li>
              <li>Practical daily tips</li>
              <li>Looking after yourself too</li>
            </ul>
          </div>
          <span class="path-arrow" aria-hidden="true">→</span>
        </a>

        <a href="/watch?situation=prevention" class="path-card card card-clickable">
          <div class="path-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            </svg>
          </div>
          <div class="path-body">
            <span class="path-label">Prevention</span>
            <h3>Early Detection</h3>
            <ul>
              <li>Screening guidelines</li>
              <li>Risk factors to know</li>
              <li>When to see a doctor</li>
            </ul>
          </div>
          <span class="path-arrow" aria-hidden="true">→</span>
        </a>
      </div>
    </div>
  </section>

  <!-- Onco Talks -->
  <section class="section">
    <div class="container">
      <header class="section-header">
        <h2>Onco Talks</h2>
        <p>Oncologists answering the questions families actually ask — what terms mean, how decisions are made, what to expect, and what to ask.</p>
      </header>

      <div class="video-grid">
        {featuredVideos.map((video) => (
          <VideoCard
            youtubeId={video.youtubeId}
            title={video.title}
            slug={video.slug}
            speaker={video.speaker}
            duration={video.duration}
            cancerTypes={video.cancerTypes}
            situations={video.situations}
          />
        ))}
      </div>

      <div class="section-cta">
        <a href="/watch" class="btn btn-primary">View All Videos</a>
      </div>
    </div>
  </section>

  <!-- Browse by Cancer Type -->
  <section class="section section-soft">
    <div class="container">
      <header class="section-header">
        <h2>Browse by Cancer Type</h2>
      </header>
      <div class="pill-grid">
        {cancerTypes.map((type) => (
          <a href={`/watch?cancer=${type.id}`} class="pill">
            {type.label}
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- What We Do / Don't -->
  <section class="section">
    <div class="container">
      <header class="section-header">
        <h2>What is SCCF?</h2>
        <p>A nonprofit in memory of Late Suchitra Gauri</p>
      </header>

      <div class="compare-grid">
        <div class="compare-card compare-do">
          <h3>
            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
              <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
            </svg>
            What We Do
          </h3>
          <ul>
            <li>Cancer awareness and education</li>
            <li>Clear information for patients and caregivers</li>
            <li>Navigation support for care pathways</li>
            <li>Doctor-led videos through Onco Talks</li>
            <li>AI guidance through Suchi</li>
          </ul>
        </div>

        <div class="compare-card compare-dont">
          <h3>
            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
              <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
            </svg>
            What We Are Not
          </h3>
          <ul>
            <li>Not a hospital or clinic</li>
            <li>Not a diagnostic service</li>
            <li>Not a substitute for medical care</li>
            <li>Not able to prescribe treatment</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Myths vs Facts -->
  <section class="section section-soft">
    <div class="container">
      <header class="section-header">
        <h2>Common Myths About Cancer</h2>
      </header>

      <div class="myth-list">
        <div class="myth-card card">
          <div class="myth-side">
            <span class="badge badge-myth">Myth</span>
            <p>"If there is no pain, it cannot be cancer."</p>
          </div>
          <div class="fact-side">
            <span class="badge badge-fact">Fact</span>
            <p>Many cancers cause no pain early on. Don't wait for symptoms to seek advice.</p>
          </div>
        </div>

        <div class="myth-card card">
          <div class="myth-side">
            <span class="badge badge-myth">Myth</span>
            <p>"Chewing tobacco is safer than smoking."</p>
          </div>
          <div class="fact-side">
            <span class="badge badge-fact">Fact</span>
            <p>All tobacco use increases cancer risk. There is no safe form.</p>
          </div>
        </div>

        <div class="myth-card card">
          <div class="myth-side">
            <span class="badge badge-myth">Myth</span>
            <p>"Screening is only for sick people."</p>
          </div>
          <div class="fact-side">
            <span class="badge badge-fact">Fact</span>
            <p>Screening finds problems early, when treatment works best.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Ask Suchi CTA -->
  <section class="section">
    <div class="container">
      <div class="suchi-cta">
        <div class="suchi-body">
          <h2>Meet Suchi</h2>
          <p>
            Suchi is SCCF's digital guide — built to help you navigate information with more confidence.
            Get clear explanations in simple language, prepare questions to ask your doctor,
            and find reliable resources — especially when you're feeling overwhelmed.
          </p>
          <p class="suchi-example">
            <em>"Meri maa ko breast cancer hai, next step kya hoga?"</em>
          </p>
          <div class="suchi-features">
            <span>✓ Clear explanations</span>
            <span>✓ Questions to ask your doctor</span>
            <span>✓ Reliable resources</span>
          </div>
          <a href={botUrl} target="_blank" rel="noopener" class="btn btn-white btn-lg">
            Ask Suchi
          </a>
        </div>
        <div class="suchi-notice">
          <strong>Suchi is not a doctor.</strong> It's a guide to help you learn and prepare —
          not a substitute for medical consultation. For emergencies, seek immediate care.
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="section section-soft">
    <div class="container">
      <div class="contact-grid">
        <div class="contact-info">
          <h2>Contact Us</h2>
          <p class="contact-lead">Have a question, feedback, or a suggestion for a future Onco Talks episode? Send us a note — we read every message.</p>

          <div class="contact-details">
            <div class="detail-row">
              <strong>Email</strong>
              <a href="mailto:info@suchitracancercare.org">info@suchitracancercare.org</a>
            </div>
            <div class="detail-row">
              <strong>Focus Area</strong>
              <span>Eastern India</span>
            </div>
          </div>

          <div class="notice notice-warning">
            <p><strong>For emergencies:</strong> Contact your nearest hospital.</p>
            <p><strong>For diagnosis/treatment:</strong> Consult a qualified doctor.</p>
          </div>
        </div>

        <div class="contact-form-card card">
          <p class="form-intro">
            A volunteer or doctor from SCCF will reply within 2–3 working days.
          </p>

          <form id="contact-form">
            <div class="form-group">
              <label for="name" class="form-label">Full Name</label>
              <input
                type="text"
                id="name"
                name="name"
                class="form-input"
                placeholder="Your name"
                autocomplete="name"
                required
              />
            </div>

            <div class="form-group">
              <label for="email" class="form-label">Email Address</label>
              <input
                type="email"
                id="email"
                name="email"
                class="form-input"
                placeholder="you@example.com"
                autocomplete="email"
                required
              />
            </div>

            <div class="form-group">
              <label for="message" class="form-label">Your Question</label>
              <textarea
                id="message"
                name="message"
                class="form-textarea"
                rows="4"
                placeholder="Tell us how we can help..."
                required
              ></textarea>
            </div>

            <div class="form-helper">
              <p>We cannot help in emergencies, but we can suggest questions to ask your doctor or help you understand information.</p>
            </div>

            <button type="submit" class="btn btn-primary btn-full">Send Message</button>
          </form>

          <div class="form-success" id="form-success" style="display: none;">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
              <polyline points="22 4 12 14.01 9 11.01"/>
            </svg>
            <p><strong>Thank you!</strong></p>
            <p>We've received your message. We'll reply within 2–3 working days.</p>
            <p class="form-success-note">If your message is urgent or medical in nature, please contact a clinician or nearby hospital.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const success = document.getElementById('form-success');

  form?.addEventListener('submit', (e) => {
    e.preventDefault();
    form.style.display = 'none';
    if (success) success.style.display = 'flex';
  });
</script>

<style>
  /* Hero */
  .hero {
    background: linear-gradient(135deg, #134e4a 0%, #0f172a 100%);
    color: white;
    padding: 4rem 1rem;
    text-align: center;
  }

  .hero-content {
    max-width: 640px;
    margin: 0 auto;
  }

  .hero-badge {
    display: inline-block;
    background: rgba(255,255,255,0.12);
    padding: 0.375rem 1rem;
    border-radius: var(--radius-full);
    font-size: var(--text-xs);
    font-weight: 600;
    margin-bottom: 1.5rem;
  }

  .hero h1 {
    color: white;
    font-size: var(--text-5xl);
    line-height: 1.15;
    margin-bottom: 1rem;
  }

  .hero-lead {
    font-size: var(--text-lg);
    opacity: 0.9;
    max-width: 520px;
    margin: 0 auto 2rem;
    line-height: 1.6;
  }

  .hero-actions {
    display: flex;
    gap: 0.75rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  @media (max-width: 640px) {
    .hero {
      padding: 3rem 1rem;
    }
    .hero h1 {
      font-size: var(--text-4xl);
    }
    .hero-lead {
      font-size: var(--text-base);
    }
  }

  /* Journey Band - Strong visual anchor */
  .journey-band {
    background: linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 100%);
    border-top: 1px solid #99f6e4;
    border-bottom: 1px solid #99f6e4;
    padding: 2rem 1rem;
  }

  .journey-inner {
    max-width: 800px;
    margin: 0 auto;
  }

  .journey-label {
    text-align: center;
    font-size: var(--text-xs);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--color-primary);
    margin-bottom: 1.25rem;
  }

  .journey-steps {
    display: grid;
    grid-template-columns: 1fr auto 1fr auto 1fr;
    align-items: center;
    gap: 0.75rem;
  }

  .journey-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 0.5rem;
  }

  .step-circle {
    width: 40px;
    height: 40px;
    background: var(--color-primary);
    color: white;
    border-radius: 50%;
    font-size: var(--text-lg);
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 8px rgba(15, 118, 110, 0.3);
  }

  .journey-step strong {
    font-size: var(--text-sm);
    color: var(--color-text);
  }

  .journey-step > span {
    font-size: var(--text-xs);
    color: var(--color-text-muted);
    max-width: 140px;
  }

  .journey-connector {
    width: 40px;
    height: 2px;
    background: linear-gradient(90deg, var(--color-primary-light), var(--color-primary));
    border-radius: 1px;
  }

  @media (max-width: 640px) {
    .journey-band {
      padding: 1.5rem 1rem;
    }
    .journey-steps {
      grid-template-columns: 1fr 1fr 1fr;
      gap: 1rem;
    }
    .journey-connector {
      display: none;
    }
    .journey-step > span {
      display: none;
    }
  }

  /* Path Cards */
  .path-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }

  @media (max-width: 700px) {
    .path-grid {
      grid-template-columns: 1fr;
    }
  }

  .path-card {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.25rem;
  }

  .path-icon {
    width: 44px;
    height: 44px;
    background: var(--color-bg-teal);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .path-icon svg {
    width: 22px;
    height: 22px;
    color: var(--color-primary);
  }

  .path-body {
    flex: 1;
    min-width: 0;
  }

  .path-label {
    font-size: 0.6875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: var(--color-primary);
  }

  .path-body h3 {
    font-size: var(--text-lg);
    margin: 0.25rem 0 0.625rem;
    color: var(--color-text);
  }

  .path-body ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .path-body li {
    font-size: var(--text-sm);
    color: var(--color-text-secondary);
    padding-left: 0.875rem;
    position: relative;
    margin-bottom: 0.25rem;
  }

  .path-body li::before {
    content: "•";
    position: absolute;
    left: 0;
    color: var(--color-text-muted);
  }

  .path-arrow {
    color: var(--color-text-muted);
    font-size: 1.25rem;
    align-self: center;
    transition: transform var(--duration) var(--ease), color var(--duration) var(--ease);
  }

  .path-card:hover .path-arrow {
    transform: translateX(4px);
    color: var(--color-primary);
  }

  /* Compare Grid */
  .compare-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.25rem;
  }

  @media (max-width: 640px) {
    .compare-grid {
      grid-template-columns: 1fr;
    }
  }

  .compare-card {
    padding: 1.5rem;
    border-radius: var(--radius-lg);
  }

  .compare-card h3 {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: var(--text-lg);
    margin-bottom: 1rem;
  }

  .compare-card ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .compare-card li {
    font-size: var(--text-base);
    padding-left: 1.25rem;
    position: relative;
    margin-bottom: 0.5rem;
    line-height: 1.5;
  }

  .compare-do {
    background: var(--color-success-bg);
    border: 1px solid #a7f3d0;
  }

  .compare-do h3 { color: var(--color-success); }
  .compare-do li::before {
    content: "✓";
    position: absolute;
    left: 0;
    color: var(--color-success);
    font-weight: 600;
  }
  .compare-do li { color: #065f46; }

  .compare-dont {
    background: var(--color-danger-bg);
    border: 1px solid #fecaca;
  }

  .compare-dont h3 { color: var(--color-danger); }
  .compare-dont li::before {
    content: "✗";
    position: absolute;
    left: 0;
    color: var(--color-danger);
    font-weight: 600;
  }
  .compare-dont li { color: #991b1b; }

  /* Myths */
  .myth-list {
    display: flex;
    flex-direction: column;
    gap: 0.875rem;
  }

  .myth-card {
    display: grid;
    grid-template-columns: 1fr 1fr;
    padding: 0;
    overflow: hidden;
  }

  @media (max-width: 640px) {
    .myth-card {
      grid-template-columns: 1fr;
    }
  }

  .myth-side,
  .fact-side {
    padding: 1.25rem;
  }

  .myth-side {
    background: #fef2f2;
  }

  .fact-side {
    background: #ecfdf5;
  }

  .myth-side p {
    color: #991b1b;
    font-style: italic;
    margin: 0.5rem 0 0;
    font-size: var(--text-base);
    line-height: 1.5;
  }

  .fact-side p {
    color: #065f46;
    margin: 0.5rem 0 0;
    font-size: var(--text-base);
    line-height: 1.5;
  }

  /* Suchi CTA */
  .suchi-cta {
    background: linear-gradient(135deg, var(--color-primary) 0%, #0891b2 100%);
    border-radius: var(--radius-xl);
    overflow: hidden;
    color: white;
  }

  .suchi-body {
    padding: 2.5rem 2rem;
    text-align: center;
  }

  .suchi-cta h2 {
    color: white;
    margin-bottom: 0.75rem;
  }

  .suchi-body > p {
    max-width: 480px;
    margin: 0 auto 1.25rem;
    opacity: 0.95;
    line-height: 1.6;
  }

  .suchi-example {
    background: rgba(255,255,255,0.15);
    padding: 0.75rem 1.25rem;
    border-radius: var(--radius-md);
    margin: 0 auto 1.25rem;
    max-width: fit-content;
    font-size: var(--text-base);
  }

  .suchi-example em {
    font-style: italic;
    opacity: 0.95;
  }

  .suchi-features {
    display: flex;
    justify-content: center;
    gap: 1.25rem;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
    font-size: var(--text-sm);
  }

  .suchi-notice {
    background: rgba(0,0,0,0.15);
    padding: 0.875rem 2rem;
    font-size: var(--text-xs);
    text-align: center;
  }

  /* Contact */
  .contact-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2.5rem;
    align-items: start;
  }

  @media (max-width: 700px) {
    .contact-grid {
      grid-template-columns: 1fr;
      gap: 2rem;
    }
  }

  .contact-info h2 {
    margin-bottom: 0.375rem;
  }

  .contact-lead {
    color: var(--color-text-secondary);
    margin-bottom: 1.5rem;
  }

  .contact-details {
    margin-bottom: 1.5rem;
  }

  .detail-row {
    margin-bottom: 0.75rem;
  }

  .detail-row strong {
    display: block;
    font-size: var(--text-xs);
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: var(--color-text-muted);
    margin-bottom: 0.125rem;
  }

  .detail-row a {
    color: var(--color-primary);
  }

  .contact-form-card {
    padding: 1.5rem;
  }

  .form-intro {
    font-size: var(--text-sm);
    color: var(--color-text-secondary);
    margin-bottom: 1.25rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--color-border);
  }

  .form-helper {
    background: var(--color-bg-soft);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: 0.875rem;
    margin-bottom: 1rem;
  }

  .form-helper p {
    font-size: var(--text-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: 1.5;
  }

  .form-success {
    display: none;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 2.5rem 1.5rem;
    background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
    border: 2px solid #a7f3d0;
    border-radius: var(--radius-lg);
  }

  .form-success svg {
    width: 56px;
    height: 56px;
    color: var(--color-success);
    margin-bottom: 1rem;
    background: white;
    padding: 0.75rem;
    border-radius: 50%;
    box-shadow: 0 2px 8px rgba(5, 150, 105, 0.2);
  }

  .form-success p {
    color: #065f46;
    margin: 0;
  }

  .form-success p:first-of-type {
    font-size: var(--text-lg);
    margin-bottom: 0.25rem;
  }

  .form-success p:nth-of-type(2) {
    font-size: var(--text-sm);
    opacity: 0.9;
  }

  .form-success-note {
    margin-top: 1rem !important;
    padding-top: 1rem;
    border-top: 1px solid #a7f3d0;
    font-size: var(--text-xs) !important;
    opacity: 0.8 !important;
  }
</style>
