---
import BaseLayout from '../layouts/BaseLayout.astro';
import VideoCard from '../components/VideoCard.astro';
import videosData from '../content/videos.json';

const featuredVideos = videosData.videos.filter(v => v.featured).slice(0, 3);
const cancerTypes = videosData.cancerTypes;
const botUrl = "https://suchi-web-621946741407.asia-south1.run.app";
---

<BaseLayout title="Home">
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-inner">
      <span class="hero-eyebrow">Suchitra Cancer Care Foundation</span>
      <h1 class="hero-title">Clear cancer guidance for patients and families in Eastern India</h1>
      <p class="hero-tagline">
        Educational videos and AI-powered support to help you understand cancer,
        prepare for doctor visits, and navigate your care journey.
      </p>
      <div class="hero-cta">
        <a href={botUrl} target="_blank" rel="noopener" class="btn btn-accent btn-lg">
          Ask Suchi
        </a>
        <a href="/watch" class="btn btn-secondary btn-lg" style="border-color: white; color: white;">
          Watch Onco Talks
        </a>
      </div>
      <p class="hero-cta-note">Ask questions in simple Hindi or English</p>

      <div class="hero-stats">
        <div class="stat-item">
          <span class="stat-number">54+</span>
          <span class="stat-label">Videos</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">8</span>
          <span class="stat-label">Onco Talks Episodes</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">20+</span>
          <span class="stat-label">Cities Reached</span>
        </div>
      </div>
    </div>
  </section>

  <!-- What Brings You Here -->
  <section class="section section-alt">
    <div class="section-inner">
      <div class="section-header">
        <h2>What brings you here?</h2>
        <p>Find the right resources for your situation</p>
      </div>
      <div class="situation-grid">
        <a href="/watch?situation=newly-diagnosed" class="situation-card">
          <div class="situation-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
          </div>
          <span class="situation-label">For Patients</span>
          <h3>Newly Diagnosed</h3>
          <p>Just heard the word "cancer"? Start here for calm, step-by-step guidance.</p>
        </a>
        <a href="/watch?situation=treatment-choices" class="situation-card">
          <div class="situation-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
          </div>
          <span class="situation-label">Treatment</span>
          <h3>Treatment Options</h3>
          <p>Understanding surgery, chemotherapy, radiation, and newer therapies.</p>
        </a>
        <a href="/watch?situation=caregiving" class="situation-card">
          <div class="situation-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
          </div>
          <span class="situation-label">For Caregivers</span>
          <h3>Caregiving</h3>
          <p>Supporting a loved one through their cancer journey.</p>
        </a>
        <a href="/watch?situation=prevention" class="situation-card">
          <div class="situation-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
          </div>
          <span class="situation-label">Prevention</span>
          <h3>Early Detection</h3>
          <p>Learn about screening, risk factors, and reducing your risk.</p>
        </a>
      </div>
    </div>
  </section>

  <!-- Featured Videos -->
  <section class="section">
    <div class="section-inner">
      <div class="section-header">
        <h2>Onco Talks by Suchitra Cancer Care</h2>
        <p>Doctor-led conversations on common cancers and treatment decisions</p>
      </div>
      <div class="video-grid">
        {featuredVideos.map((video) => (
          <VideoCard
            youtubeId={video.youtubeId}
            title={video.title}
            slug={video.slug}
            speaker={video.speaker}
            duration={video.duration}
            cancerTypes={video.cancerTypes}
            situations={video.situations}
          />
        ))}
      </div>
      <div class="section-cta">
        <a href="/watch" class="btn btn-primary">Watch Onco Talks</a>
        <a href={botUrl} target="_blank" rel="noopener" class="btn btn-secondary" style="margin-left: 0.75rem;">
          Ask Suchi
        </a>
      </div>
    </div>
  </section>

  <!-- Browse by Cancer Type -->
  <section class="section section-alt">
    <div class="section-inner">
      <div class="section-header">
        <h2>Browse by Cancer Type</h2>
      </div>
      <div class="cancer-pills">
        {cancerTypes.map((type) => (
          <a href={`/watch?cancer=${type.id}`} class="cancer-pill">
            {type.label}
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- What SCCF Is / Is Not -->
  <section class="section">
    <div class="section-inner">
      <div class="section-header">
        <h2>What is Suchitra Cancer Care Foundation?</h2>
        <p>A nonprofit initiative in memory of Late Suchitra Gauri</p>
      </div>
      <div class="what-grid">
        <div class="what-card what-is">
          <h3>What We Do</h3>
          <ul>
            <li>Cancer awareness and education</li>
            <li>Clear, non-technical information for patients and caregivers</li>
            <li>Navigation support to understand care pathways</li>
            <li>Doctor-led conversations through Onco Talks</li>
            <li>Safe AI tools like Suchi for guidance</li>
          </ul>
        </div>
        <div class="what-card what-not">
          <h3>What We Are Not</h3>
          <ul>
            <li>Not a hospital or clinic</li>
            <li>Not a diagnostic service</li>
            <li>Not a substitute for medical care</li>
            <li>Not a provider of prescriptions or treatment</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Myths vs Facts - 2 column layout -->
  <section class="section section-alt">
    <div class="section-inner">
      <div class="section-header">
        <h2>Common Myths About Cancer</h2>
      </div>
      <div class="myths-list">
        <div class="myth-row">
          <div class="myth-side">
            <span class="myth-label">Myth</span>
            <p>"If there is no pain, it cannot be cancer."</p>
          </div>
          <div class="fact-side">
            <span class="fact-label">Fact</span>
            <p>Many cancers cause few symptoms early. Don't wait for pain to seek advice.</p>
          </div>
        </div>
        <div class="myth-row">
          <div class="myth-side">
            <span class="myth-label">Myth</span>
            <p>"Chewing tobacco is safer than smoking."</p>
          </div>
          <div class="fact-side">
            <span class="fact-label">Fact</span>
            <p>Tobacco in any form significantly increases cancer risk.</p>
          </div>
        </div>
        <div class="myth-row">
          <div class="myth-side">
            <span class="myth-label">Myth</span>
            <p>"Screening is only for sick people."</p>
          </div>
          <div class="fact-side">
            <span class="fact-label">Fact</span>
            <p>Screening finds problems early when treatment works best.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Try Suchi -->
  <section class="section">
    <div class="section-inner">
      <div class="suchi-banner">
        <h2>Have Questions? Ask Suchi</h2>
        <p>
          Suchi is an AI assistant that helps you understand cancer information based on
          trusted sources like NCI. Get answers, prepare for doctor visits, or learn about your situation.
        </p>
        <div class="suchi-features">
          <span>✓ Trusted sources</span>
          <span>✓ Simple language</span>
          <span>✓ Privacy-focused</span>
        </div>
        <a href={botUrl} target="_blank" rel="noopener" class="btn btn-white btn-lg">
          Try Suchi Now
        </a>
        <div class="suchi-disclaimer">
          <p><strong>Important:</strong> Suchi does not diagnose, does not replace your doctor, and cannot handle emergencies. For urgent issues, contact your nearest hospital.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="section section-alt">
    <div class="section-inner">
      <div class="contact-grid">
        <div class="contact-intro">
          <h2>Contact Us</h2>
          <p>For cancer-related guidance and support, reach out to us.</p>

          <div class="contact-details">
            <div class="contact-item">
              <strong>Email</strong>
              <a href="mailto:info@suchitracancercare.org">info@suchitracancercare.org</a>
            </div>
            <div class="contact-item">
              <strong>Focus Area</strong>
              <span>Eastern India</span>
            </div>
          </div>

          <div class="info-box info-box-warning">
            <p><strong>For emergencies:</strong> Contact your nearest hospital immediately.</p>
            <p style="margin-top: 0.5rem;"><strong>For diagnosis/treatment:</strong> Consult a qualified healthcare professional.</p>
          </div>
        </div>

        <div class="contact-form-wrapper">
          <div class="contact-form-notice">
            We are not an emergency service. For urgent medical issues, please call your nearest hospital.
          </div>
          <form class="contact-form" id="contact-form">
            <div class="form-field">
              <label for="name">Full Name</label>
              <input
                id="name"
                name="name"
                type="text"
                placeholder="Your name (first name is fine)"
                autocomplete="name"
                required
              />
            </div>
            <div class="form-field">
              <label for="email">Email Address</label>
              <input
                id="email"
                name="email"
                type="email"
                placeholder="your.email@example.com"
                autocomplete="email"
                required
              />
            </div>
            <div class="form-field">
              <label for="message">Your Question or Concern</label>
              <textarea
                id="message"
                name="message"
                rows="4"
                placeholder="Tell us how we can help..."
                required
              ></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Send Message</button>
            <p class="form-note">We'll respond within 2-3 business days. We use your details only to respond to your message.</p>
          </form>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  const form = document.getElementById('contact-form');
  form?.addEventListener('submit', (e) => {
    e.preventDefault();
    alert('Thank you for reaching out. We will respond soon.');
    (form as HTMLFormElement).reset();
  });
</script>
